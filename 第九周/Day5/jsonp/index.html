<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--<img src="http://bpic.588ku.com/back_pic/00/02/75/41561a71adafd4a.jpg!/fh/300/quality/90/unsharp/true/compress/true" alt="">-->
<script type="text/javascript">
//    let xhr = new XMLHttpRequest();
//    xhr.open('get', 'http://127.0.0.1:3000/getTime', true);
//    xhr.responseType = 'json';
//    xhr.onreadystatechange = function () {
//        if(this.readyState === 4 && /^2\d{2}$/.test(this.status)) {
//            console.log(this.response);
//        }
//    };
//    xhr.send();
//

    // jsonp
//    利用script标签不存在跨域，我们给src 属性url地址 只要能找到就会将js引入进来
//  我们把 请求的url地址 设为script标签src属性 并且和后台定义一个字段 将我们全局中的函数名 传给后台cb=callBack


//    let oScript = document.createElement('script');
//    oScript.src = 'http://127.0.0.1:3000/getTime?cb=getTime';
//    document.body.appendChild(oScript);
//
//function getTime(result) {
//    console.log(result);
//}
</script>
<script type="text/javascript" src="jquery-1.11.3.js"></script>
<script type="text/javascript">
    $(function () {
       $.ajax({
           url: 'http://127.0.0.1:3000/getTime',
           type: 'get',
           dataType: 'jsonp', // 跨域请求
           jsonp: 'cb', // 后台定的 callback= fn 重写 jsonp url请求中 传递函数的字段名
           jsonpCallback: 'cuiyang', // 重写jsonp url请求中 回调函数名
           success: function (result) {
               console.log(result);
           }
       })
    });
</script>
</body>
</html>