<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>增加用户信息</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        .container {
            width: 400px;
            text-align: center;
            padding-top: 50px;
            margin: 0 auto;
        }

        label {
            display: inline-block;
            width: 100px;
            text-align: right;
        }
        button {
            width: 100px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            margin-top: 15px;
        }
        a {
            display: block;
            text-decoration: none;
            margin: 20px;
        }
    </style>
</head>
<body>
<!--搭建了node环境之后就不能像之前那样查找一级一级查找文件了，需要把当前项目看成根目录-->
<a href="/index.html"></a>
<div class="container">
    <label for="username">用户名 <input type="text" id="username"></label><br>
    <label for="usertel">TEL <input type="text" id="usertel"></label><br>
    <button id="addBtn">增加用户</button>
</div>
<script src="/public/ajax.js"></script>
<script>
    let addBtn = document.getElementById('addBtn');
    let username = document.getElementById('username');//只需要增加name和tel，id是后台自己分配
    let usertel = document.getElementById('usertel');
    addBtn.onclick = function () {
        let nameVal = username.value;
        let telVal = usertel.value;
        if (nameVal&&telVal) {
            $.ajax({
                url:'/addUserInfo',
                type:'post',
                data:{
                    name:nameVal,
                    tel:telVal
                },
                dataType:'json',
                success:function (result) {
                    if (result&&result.error===0) {
                        username.value = '';//提交完后清空输入框
                        usertel.value = '';//提交完后清空输入框
                        alert(result.msg);
                        }
                }
            })
        }else {
            alert('请填写信息')
        }
    }





</script>



</body>
</html>